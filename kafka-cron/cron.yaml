# max_allowed_retries defaults to 3, if you don't specify it
# to disbable retries, set it to -1
# should probably be per cluster...
max_allowed_retries: 10
clusters:
  - name: "cluster-a"
    partitions: 2
    replication: 1
  - name: "cluster-a-retries"
    partitions: 1
  - name: "cluster-b"
    partitions: 1
  - name: "cluster-b-retries"
crons:
  - description: 'Echo Hello world every day at 00:00 AM'
    schedule: "0 0 * * *"
    command: "echo 'Hello, world!'"
    clusters: 
      - "cluster-a"
  - description: 'Echo Hello world every minute'
    schedule: "* * * * *"
    command: echo 'Hello, world!'
    clusters: 
      - "cluster-b"
  - description: 'Random failure every 2 minutes'
    schedule: "*/2 * * * *"
    command: sh /scripts/random-fail.sh
    max_retries: 3
    clusters: 
      - "cluster-a"
  - description: 'Http request every minute'
    schedule: "* * * * *"
    command: sh /scripts/http-request.sh
    max_retries: 3
    clusters: 
      - "cluster-a"
      - "cluster-b"
  - description: 'Http request every minute'
    schedule: "* * * * *"
    command: sh /scripts/http-request.sh
    max_retries: 3
    clusters: 
      - "cluster-a"
      - "cluster-b"